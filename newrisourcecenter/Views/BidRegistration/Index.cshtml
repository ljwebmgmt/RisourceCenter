@model IEnumerable<newrisourcecenter.Models.BidRegistration>
@{
    ViewBag.Title = "Register a Deal";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string pages = Convert.ToString(Session["userPages"]);
    string[] userpages = { };
    if (pages != null)
    {
        userpages = pages.Split(',');
    }
}

<div class="main_content">
    <div style="padding-bottom: 10px;">
        @Html.ActionLink("Register a Deal", "Create", new { n1_name = @Request.QueryString["n1_name"], n2_name = @Request.QueryString["n2_name"], msg = "Add Bid Registration" }, htmlAttributes: new { @class = "btn btn-primary" })
        <div style="display:inline-block;float:right;">
            @if (userpages.Contains("30161"))
            {
                @Html.ActionLink("Admin >>", "Admin", new { n1_name = @Request.QueryString["n1_name"], n2_name = @Request.QueryString["n2_name"], msg = "Register a Deal Admin" }, htmlAttributes: new { @class = "btn btn-primary" })
            }
        </div>
    </div>
    <table class="table">
        <thead>
            <tr>
                <th>Partner Company</th>
                <th>
                    @Html.DisplayNameFor(model => model.contact_name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.contact_email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.customer_name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.company_name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.project_name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.estimated_start_date)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.project_value)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.created_by)
                </th>
                <td style="width:100px;color:#000;font-weight:bold;">Actions</td>
            </tr>
        </thead>
        <tbody>
            @if (Model.Count() > 0)
            {
                foreach (var item in Model)
                {
                    <tr>
                        <td>@Html.DisplayFor(modelIten => item.companyName)</td>
                        <td>
                            @Html.DisplayFor(modelItem => item.contact_name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.contact_email)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.customer_name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.company_name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.project_name)
                        </td>
                        <td>
                            @Html.Raw(item.estimated_start_date.Value.Date.ToShortDateString())
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.project_value)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.username)
                        </td>
                        <td>
                            @Html.ActionLink("View/Edit", "Edit", new { id = item.ID, n1_name = @Request.QueryString["n1_name"], n2_name = @Request.QueryString["n2_name"], msg = "View/Edit Bid Registration " })
                            @*@Html.ActionLink("Delete", "Delete", new { id = item.ID }, htmlAttributes: new { @class = "btn btn-info" })*@
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr><td colspan="9" class="text-center">No Registrations Added Yet</td></tr>
            }
        </tbody>
    </table>
</div>

