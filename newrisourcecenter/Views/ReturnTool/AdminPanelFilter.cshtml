@model IEnumerable<newrisourcecenter.Models.ReturnToolViewModel>
@{
    Layout = null;
}
        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.form_id)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.company)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.submission_date)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.completion_date)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.status)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.authonumber)
                    </th>
                    <td></td>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.form_id)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.company)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.submission_date)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.completion_date)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.status)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.authonumber)
                        </td>
                        <td>
                            @{ string pdflink = string.Format("/attachments/return_tools/PDFs/pdf_{0}.pdf", @item.form_id);}
                            <a href="@pdflink">View PDF</a>
                            @Html.ActionLink("Edit", "Edit", new { id = item.form_id, n1_name = @Request.QueryString["n1_name"], msg = "Admin Panel" }, new { @class = "btn btn-info" })
                            @Html.ActionLink("Delete", "Delete", new { id = item.form_id, n1_name = @Request.QueryString["n1_name"] }, htmlAttributes: new { id = "delete", onclick = "deletef(this.href);return false", @class = "btn btn-info" })
                        </td>
                    </tr>
                    ViewBag.form_id = item.form_id;
                }
            </tbody>
        </table>

        @if (Model.Count() >= 10)
        {
            if (Request.QueryString["next"] == null)
            {
                @Html.ActionLink("Next >>", "AdminPanel", new { n1_name = @Request.QueryString["n1_name"], msg = "Admin Panel", prev = @ViewBag.form_id - 1, next = @ViewBag.form_id - 10 }, new { @class = "btn btn-info" })
            }
            else
            {
                @Html.ActionLink("Next >>", "AdminPanel", new { n1_name = @Request.QueryString["n1_name"], msg = "Admin Panel", prev = @ViewBag.form_id - 1, next = @ViewBag.form_id - 10 }, new { @class = "btn btn-info" })
                @Html.ActionLink("<< Previous", "AdminPanel", new { n1_name = @Request.QueryString["n1_name"], msg = "Admin Panel", prev = Convert.ToInt32(Request.QueryString["next"]) + 19, next = Convert.ToInt32(Request.QueryString["next"]) + 10 }, new { @class = "btn btn-info", @style = "float:right;" })
            }
        }



